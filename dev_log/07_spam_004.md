# Subunit 7.4: Spam Monitoring Tools

## Objective

Create command-line tools to monitor and review spam detection in production.

## Implementation

### Script: scripts/check_spam.py

**Features:**
- Show spam articles from last N days (default: 7)
- Configurable time range via command-line argument
- Display: title, author, matched rules, date
- Summary stats

**Usage:**
```bash
# Last 7 days (default)
PYTHONPATH=. python3 scripts/check_spam.py

# Last 24 hours
PYTHONPATH=. python3 scripts/check_spam.py --days 1

# Last 30 days
PYTHONPATH=. python3 scripts/check_spam.py --days 30
```

**Output:**
```
=== SPAM DETECTED (Last 7 Days) ===

2026-01-25 14:30 - ¿Cómo llamar a Lufthansa?
  Author: steve196
  Rules: airline_keywords, contact_phrases_spanish

2026-01-26 08:15 - How to contact Netflix
  Author: jamessmithstr
  Rules: netflix_customer_service, spam_authors

---
Total: 15 spam articles in last 7 days
```

## AI Interactions

Use AI to:
1. Create clean CLI script with argparse
2. Query database with date filtering
3. Format output for readability

## Files Modified

- `scripts/check_spam.py` (new)
- `dev_log/07_spam_004.md` (this file)

## Status: Complete ✅

**Implemented:**
- ✅ scripts/check_spam.py - CLI tool to view spam from last N days
- ✅ Configurable time range via --days argument
- ✅ Shows title, author, and timestamp
- ✅ Summary stats included

**Usage:**
```bash
# Last 7 days (default)
PYTHONPATH=. python3 scripts/check_spam.py

# Last 24 hours
PYTHONPATH=. python3 scripts/check_spam.py --days 1

# Last 30 days
PYTHONPATH=. python3 scripts/check_spam.py --days 30
```

**Validation:**
- Tested with 1 day: 161 spam articles
- Tested with 7 days: 163 spam articles
- Shows overall stats (total spam, pending clean)
- Ready for production use
